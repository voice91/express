"use strict";

var _mongoose = _interopRequireDefault(require("mongoose"));
var _mongoosePaginateV = _interopRequireDefault(require("mongoose-paginate-v2"));
var _plugins = require("./plugins");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }
/**
 * This file is generated by Appinvento, also it can be overwritten by Appinvento.
 * If you want to add the new fields to your schema then go to the app.appinvento.io,
 * select your project then select model and click on + icon to add new fields.
 * For more checkout the docs at "docs.appinvento.io/product-guides/create-a-new-collection-field"
 */

var fileSchema = new _mongoose["default"].Schema({
  url: {
    type: String,
    required: true
  },
  fileName: {
    type: String
  },
  fileType: {
    type: String
  },
  fileDescription: {
    type: String
  }
}, {
  timestamps: {
    createdAt: true,
    updatedAt: false
  }
});
var SponsorSchema = new _mongoose["default"].Schema({
  /**
   * created By
   * */
  createdBy: {
    type: _mongoose["default"].Schema.Types.ObjectId,
    ref: 'User'
  },
  /**
   * updated By
   * */
  updatedBy: {
    type: _mongoose["default"].Schema.Types.ObjectId,
    ref: 'User'
  },
  name: {
    type: String
  },
  //  Removed this field from schema because added virtual
  // borrowersEmails: {
  //   type: [String],
  // },
  website: {
    type: String
  },
  headquarter: {
    type: String
  },
  description: {
    type: String
  },
  photo: {
    type: fileSchema
  },
  portfolio: {
    type: [_mongoose["default"].Schema.Types.Mixed]
  },
  documents: {
    type: [fileSchema]
  },
  advisor: {
    type: _mongoose["default"].Schema.Types.ObjectId,
    ref: 'User'
  }
  // Removed this field from schema and added virtual for this field
  // borrowers: {
  //   type: [mongoose.Schema.Types.ObjectId],
  //   ref: 'User',
  // },
}, {
  timestamps: {
    createdAt: true,
    updatedAt: true
  }
});
SponsorSchema.virtual('borrowers', {
  ref: 'User',
  localField: '_id',
  foreignField: 'sponsor'
});
SponsorSchema.plugin(_plugins.toJSON);
SponsorSchema.plugin(_mongoosePaginateV["default"]);
var SponsorModel = _mongoose["default"].models.Sponser || _mongoose["default"].model('Sponsor', SponsorSchema, 'Sponsor');
module.exports = SponsorModel;